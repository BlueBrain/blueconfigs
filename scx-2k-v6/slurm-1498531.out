numprocs=40
NEURON -- VERSION 9.0.dev-1349-g67a672a2c+ HEAD (67a672a2c+) 2023-05-04
Duke, Yale, and the BlueBrain Project -- Copyright 1984-2022
See http://neuron.yale.edu/neuron/credits

Additional mechanisms from files
 "mod/ALU.mod" "mod/Ca.mod" "mod/CaDynamics_DC0.mod" "mod/CaDynamics_E2.mod" "mod/Ca_HVA.mod" "mod/Ca_HVA2.mod" "mod/Ca_LVAst.mod" "mod/CoreConfig.mod" "mod/DetAMPANMDA.mod" "mod/DetGABAAB.mod" "mod/GluSynapse.mod" "mod/HDF5reader.mod" "mod/Ih.mod" "mod/Im.mod" "mod/K_Pst.mod" "mod/K_Tst.mod" "mod/KdShu2007.mod" "mod/NaTa_t.mod" "mod/NaTg.mod" "mod/NaTs2_t.mod" "mod/Nap_Et2.mod" "mod/ProbAMPANMDA_EMS.mod" "mod/ProbGABAAB_EMS.mod" "mod/SK_E2.mod" "mod/SKv3_1.mod" "mod/SonataReportHelper.mod" "mod/SonataReports.mod" "mod/SpikeWriter.mod" "mod/StochKv.mod" "mod/StochKv3.mod" "mod/SynapseReader.mod" "mod/TTXDynamicsSwitch.mod" "mod/VecStim.mod" "mod/gap.mod" "mod/lookupTableV2.mod" "mod/netstim_inhpoisson.mod"
[STEP] Initializing Neurodamus... Logfile: pydamus_2023-05-12_17h21.log
[INFO]  => Neurodamus Mod & Hoc lib loaded.
[INFO] Checking for plugins...
[INFO]  => Engines Available: ['Base', 'NGV', 'METype']
[INFO]   : Connections Types: ['NeuroGlial', 'GlioVascular', None, 'Synaptic', 'GapJunction', 'NeuroModulation']
[STEP] Setting up Neurodamus configuration
[INFO] Initializing Simulation Configuration and Validation
[WARNING] MorphologyType not set. Assuming ascii and legacy /ascii subdir
[WARNING] Setting CurrentDir to '.' is discouraged and shall never be used in production jobs.
[INFO] Valid CoreNeuron input data not found in '/gpfs/bbp.cscs.ch/data/scratch/proj16/magkanar/BBPP154-53/blueconfigs/scx-2k-v6/output/coreneuron_input'. Neurodamus will proceed to model building.
[INFO] Checking simulation requirements
[INFO] Initializing hoc config objects
MorphologyType specified in BlueConfig: asc . Using full MorphologyPath: /gpfs/bbp.cscs.ch/project/proj12/jenkins/cellular/circuit-2k/morphologies/ascii 
Taking Simulator mode from BlueConfig
SimulatorMode set to 'CORENEURON'
As of Oct 2020 Neurodamus uses Random123 as default
RNGMode set to 1  [COMPATIBILITY=0, RANDOM123=1, UPMCELLRAN4=2]
Directory /gpfs/bbp.cscs.ch/data/scratch/proj16/magkanar/BBPP154-53/blueconfigs/scx-2k-v6/output/coreneuron_input does not exist.  Creating...
[INFO] User-defined RNG base seed 719775.0
[INFO] Memusage [MB]: Max=66.30, Min=62.09, Mean(Stdev)=62.48(0.65)
Reading target file /gpfs/bbp.cscs.ch/project/proj12/jenkins/cellular/circuit-2k/start.target
Reading target file /gpfs/bbp.cscs.ch/data/scratch/proj16/magkanar/BBPP154-53/blueconfigs/scx-2k-v6/user.target
  * Target Small               32 cells
  * Target AllCompartments   2175 cells [1 subtargets]
[INFO]  => Loaded 84 targets
[INFO] Checking Connection Configurations
[INFO]  => CHECK No Global vars!
[INFO]  => CHECK No Block Overrides!
[INFO]  => CHECK No single Weight=0 blocks!
[STEP] ================ CALCULATING LOAD BALANCE ================
[STEP] Computing Load Balance
[INFO] Load Balancing ENABLED. Mode: WholeCell
[INFO] Creating load balance dir sim_conf/_loadbal_dbc410a770
[INFO]  => No complexity files for current circuit yet
[INFO]  => Target Cx reusing is not available.
[INFO] Could not reuse load balance data. Doing a Full Load-Balance
[WARNING] Could not discover population name. Assuming '' (empty)
[INFO] Reading Nodes (METype) info from 'circuit.mvd3'
[INFO]  -> Distributing ALL cells Round-Robin (No target provided)
[INFO]  => Loaded info about 2175 target cells (out of 2175)
[INFO] Generating mcomplex.dat...
[INFO] Finalizing cells... Gid offset: 0
[INFO]  > Instantiating cells... (55 in Rank 0)
|-------20%-------40%-------60%-------80%------100%| [Time taken: 46.90 s]
[INFO]  > Updating targets
[INFO]  > Initializing cell network
[STEP] Circuit (default)
[INFO] Init SynapseRuleManager. Options: {}
[WARNING] Edges source is a directory (legacy nrn.h5 only)
[INFO] Opening Synapse file /gpfs/bbp.cscs.ch/project/proj12/jenkins/cellular/circuit-2k/touches/functional, population: None
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
[INFO] Loading connections to population: <ConnectionSet: Default>
[INFO] No matching Connection blocks. Loading all synapses...
|-------20%-------40%-------60%-------80%------100%| [Time taken: 0.65 s]
[INFO]  * [ALL]. Created 20134 connections
[INFO] LB Info: TC=13495407.357 MC=34981.176 OptimalCx=337385183927.000 FileName=sim_conf/_loadbal_dbc410a770/cx__ALL_#.dat
[INFO] Assigning Cells <-> 40 CPUs [mymetis3]
total complexity is 1.34939e+07
2175 cells
2175 pieces
maximum complexity is 337928 for host 7
load imbalance is 0.2%
maximum of 55 pieces on host 2
no broken cells
[INFO] Clearing model
[INFO] malloc_trim: memory released back to the system.
[INFO] Memusage [MB]: Max=105.90, Min=92.93, Mean(Stdev)=99.10(2.48)
[INFO] Memusage [MB]: Max=105.90, Min=92.93, Mean(Stdev)=99.10(2.48)
[STEP] ==================== BUILDING CIRCUIT ====================
[STEP] LOADING NODES
[WARNING] Could not discover population name. Assuming '' (empty)
[INFO] Reading Nodes (METype) info from 'circuit.mvd3'
[INFO]  => Cell distribution from Load Balance is valid
[INFO]  -> Distributing target 'None' using Load-Balance
[INFO]  => Loaded info about 53 target cells (out of 2175)
[STEP] FINALIZING CIRCUIT CELLS
[STEP] Circuit (default)
[INFO] Finalizing cells... Gid offset: 0
[INFO]  > Instantiating cells... (53 in Rank 0)
|-------20%-------40%-------60%-------80%------100%| [Time taken: 46.49 s]
[INFO]  > Updating targets
[INFO]  > Initializing cell network
[INFO] Memusage [MB]: Max=219.33, Min=210.23, Mean(Stdev)=214.00(1.50)
[STEP] LOADING CIRCUIT CONNECTIVITY
[STEP] Circuit (default)
[INFO] Init SynapseRuleManager. Options: {'load_offsets': False}
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
[WARNING] Edges source is a directory (legacy nrn.h5 only)
Synapsetool: [WARNING] New Circuits should be given in full path
[INFO] Opening Synapse file /gpfs/bbp.cscs.ch/project/proj12/jenkins/cellular/circuit-2k/touches/functional, population: None
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
Synapsetool: [WARNING] New Circuits should be given in full path
[INFO] Loading connections to population: <ConnectionSet: Default>
[INFO] No matching Connection blocks. Loading all synapses...
|-------20%-------40%-------60%-------80%------100%| [Time taken: 0.68 s]
[INFO]  * [ALL]. Created 20134 connections
[STEP] Handling projections...
[STEP] Configuring connections...
[INFO] Done, but waiting for all ranks
[INFO] Memusage [MB]: Max=219.33, Min=210.23, Mean(Stdev)=214.01(1.51)
[STEP] ================ INSTANTIATING SIMULATION ================
[STEP] Handling Replay
[INFO] Memusage [MB]: Max=219.33, Min=210.23, Mean(Stdev)=214.01(1.51)
[STEP] Creating connections in the simulator
[INFO] Instantiating synapses... Params: {'replay_mode': <ReplayMode.NONE: 0>}
[INFO]  * Connections among (base) -> (base), attach src: True
Pop:(0, 0)|-------20%-------40%-------60%-------80%------100%| [Time taken: 1.14 s]
[INFO]  => Created 179874 synapses
[INFO] Memusage [MB]: Max=220.36, Min=210.75, Mean(Stdev)=214.68(1.56)
[STEP] Stimulus Apply.
[INFO] Instantiating Stimulus Injects:
[INFO]  * [STIM] ThresholdIntoExc: ThresholdExc (Noise) -> Excitatory
[WARNING] StimulusSeed unset (default 0), set explicitly to vary noisy stimuli across runs
[INFO]  * [STIM] ThresholdIntoInh: ThresholdInh (Noise) -> Inhibitory
[WARNING] StimulusSeed unset (default 0), set explicitly to vary noisy stimuli across runs
[INFO]  * [STIM] hypamp_mosaic: hypamp (Hyperpolarizing) -> Mosaic
[INFO] Memusage [MB]: Max=220.36, Min=210.75, Mean(Stdev)=214.68(1.56)
[STEP] Enabling modifications...
[STEP] Reports Enabling
[INFO]  * soma (Type: compartment, Target: Mosaic)
Adding report soma for CoreNEURON with 2175 gids
[INFO]  * compartments (Type: compartment, Target: AllCompartments)
Adding report compartments for CoreNEURON with 2175 gids
[INFO] Memusage [MB]: Max=220.36, Min=210.75, Mean(Stdev)=214.68(1.56)
[INFO] Preparing to run simulation...
[INFO] Executing actions after stdinit...
[STEP] Dataset generation for CoreNEURON
Writing sim config file: /gpfs/bbp.cscs.ch/data/scratch/proj16/magkanar/BBPP154-53/blueconfigs/scx-2k-v6/output/sim.conf
[INFO]  => Dataset written to '/gpfs/bbp.cscs.ch/data/scratch/proj16/magkanar/BBPP154-53/blueconfigs/scx-2k-v6/output/coreneuron_input'
[STEP] ======================= SIMULATION =======================
[INFO] Memusage [MB]: Max=220.88, Min=211.27, Mean(Stdev)=215.06(1.56)
[INFO] Clearing model
[INFO] malloc_trim: memory released back to the system.
[INFO] Memusage [MB]: Max=87.54, Min=81.65, Mean(Stdev)=83.10(1.02)
[INFO] Launching simulation with CoreNEURON
 num_mpi=40

 
 Duke, Yale, and the BlueBrain Project -- Copyright 1984-2020
 Version : 9.0.0 67a672a2c (2023-05-04 19:28:21 +0200)
 
 Additional mechanisms from files
 ALU.mod Ca.mod CaDynamics_DC0.mod CaDynamics_E2.mod Ca_HVA.mod Ca_HVA2.mod Ca_LVAst.mod CoreConfig.mod DetAMPANMDA.mod DetGABAAB.mod GluSynapse.mod Ih.mod Im.mod K_Pst.mod K_Tst.mod KdShu2007.mod NaTa_t.mod NaTg.mod NaTs2_t.mod Nap_Et2.mod ProbAMPANMDA_EMS.mod ProbGABAAB_EMS.mod SK_E2.mod SKv3_1.mod SonataReportHelper.mod SonataReports.mod StochKv.mod StochKv3.mod SynapseReader.mod TTXDynamicsSwitch.mod VecStim.mod exp2syn.mod expsyn.mod gap.mod hh.mod netstim.mod netstim_inhpoisson.mod passive.mod pattern.mod stim.mod svclmp.mod

 Memory (MBs) :             After mk_mech : Max 87.7930, Min 82.9336, Avg 84.3912 
 Memory (MBs) :            After MPI_Init : Max 87.7930, Min 83.1484, Avg 84.5652 
 Memory (MBs) :          Before nrn_setup : Max 87.7930, Min 83.1914, Avg 84.6555 
 Setup Done   : 0.15 seconds 
 Model size   : 515.01 MB
 Memory (MBs) :          After nrn_setup  : Max 117.6992, Min 109.3789, Avg 112.4348 
GENERAL PARAMETERS
--mpi=true
--mpi-lib=
--gpu=false
--dt=0.025
--tstop=100

GPU
--nwarp=65536
--cell-permute=0
--cuda-interface=false

INPUT PARAMETERS
--voltage=-65
--seed=719775
--datpath=/gpfs/bbp.cscs.ch/data/scratch/proj16/magkanar/BBPP154-53/blueconfigs/scx-2k-v6/output/coreneuron_input
--filesdat=files.dat
--pattern=
--report-conf=/gpfs/bbp.cscs.ch/data/scratch/proj16/magkanar/BBPP154-53/blueconfigs/scx-2k-v6/output/report.conf
--restore=     

PARALLEL COMPUTATION PARAMETERS
--threading=false
--skip_mpi_finalize=true

SPIKE EXCHANGE
--ms_phases=2
--ms_subintervals=2
--multisend=false
--spk_compress=0
--binqueue=false

CONFIGURATION
--spikebuf=100000
--prcellgid=-1
--forwardskip=0
--celsius=34
--mindelay=0.1
--report-buffer-size=4

OUTPUT PARAMETERS
--dt_io=0.1
--outpath=/gpfs/bbp.cscs.ch/data/scratch/proj16/magkanar/BBPP154-53/blueconfigs/scx-2k-v6/output
--checkpoint=

 Start time (t) = 0

 Memory (MBs) :  After mk_spikevec_buffer : Max 117.6992, Min 109.3789, Avg 112.4412 
 Memory (MBs) :     After nrn_finitialize : Max 117.9570, Min 109.6367, Avg 112.5830 
[REPORTS] [info] :: Initializing PARALLEL implementation...
[REPORTS] [info] :: Initializing communicators and preparing SONATA datasets

psolve |                                                         | t: 0.00   ETA: 0h00m00spsolve |=                                                        | t: 3.00   ETA: 0h02m41spsolve |===                                                      | t: 6.00   ETA: 0h02m36spsolve |=====                                                    | t: 9.38   ETA: 0h02m25spsolve |=======                                                  | t: 12.62  ETA: 0h02m18spsolve |=========                                                | t: 16.37  ETA: 0h02m07spsolve |===========                                              | t: 20.12  ETA: 0h01m59spsolve |=============                                            | t: 23.87  ETA: 0h01m51spsolve |===============                                          | t: 27.62  ETA: 0h01m44spsolve |=================                                        | t: 31.37  ETA: 0h01m38spsolve |====================                                     | t: 35.12  ETA: 0h01m32spsolve |======================                                   | t: 39.00  ETA: 0h01m26spsolve |========================                                 | t: 42.75  ETA: 0h01m20spsolve |==========================                               | t: 46.50  ETA: 0h01m14spsolve |============================                             | t: 49.88  ETA: 0h01m10spsolve |==============================                           | t: 53.63  ETA: 0h01m04spsolve |================================                         | t: 57.38  ETA: 0h00m59spsolve |==================================                       | t: 60.75  ETA: 0h00m54spsolve |====================================                     | t: 64.50  ETA: 0h00m49spsolve |======================================                   | t: 68.25  ETA: 0h00m44spsolve |=========================================                | t: 72.38  ETA: 0h00m38spsolve |===========================================              | t: 76.13  ETA: 0h00m32spsolve |=============================================            | t: 79.88  ETA: 0h00m27spsolve |===============================================          | t: 83.25  ETA: 0h00m23spsolve |=================================================        | t: 87.00  ETA: 0h00m17spsolve |===================================================      | t: 90.75  ETA: 0h00m12spsolve |=====================================================    | t: 94.50  ETA: 0h00m07spsolve |======================================================== | t: 98.63  ETA: 0h00m01spsolve |=========================================================| t: 100.00 ETA: 0h02m18s

Solver Time : 137.952


 Simulation Statistics
 Number of cells: 2175
 Number of compartments: 598015
 Number of presyns: 2215
 Number of input presyns: 16270
 Number of synapses: 179874
 Number of point processes: 184264
 Number of transfer sources: 0
 Number of transfer targets: 0
 Number of spikes: 797
 Number of spikes with non negative gid-s: 797
[INFO] Creating .SUCCESS file: '/gpfs/bbp.cscs.ch/data/scratch/proj16/magkanar/BBPP154-53/blueconfigs/scx-2k-v6/BlueConfig.SUCCESS'
[INFO] Memusage [MB]: Max=254.81, Min=121.64, Mean(Stdev)=127.97(20.39)
[INFO] Deleting intermediate data in /gpfs/bbp.cscs.ch/data/scratch/proj16/magkanar/BBPP154-53/blueconfigs/scx-2k-v6/output/coreneuron_input
[INFO] Finished
[INFO] +================================================ TIMEIT STATS =================================================+
[INFO] |                       Event Label                        | Avg.Time | Min.Time | Max.Time | Hits R0 / Total   |
[INFO] +---------------------------------------------------------------------------------------------------------------+
[INFO] | Compute LB                                               |   138.41 |   138.38 |   138.44 |       1 / 40      |
[INFO] | Cell creation                                            |   127.45 |   127.45 |   127.46 |       1 / 40      |
[INFO] | Synapse creation                                         |     1.34 |     1.33 |     1.35 |       1 / 40      |
[INFO] | Enable Stimulus                                          |     0.05 |     0.03 |     0.12 |       1 / 40      |
[INFO] | Enable Modifications                                     |     0.00 |     0.00 |     0.00 |       1 / 40      |
[INFO] | Enable Reports                                           |     0.03 |     0.03 |     0.03 |       1 / 40      |
[INFO] | Model Finalized                                          |     0.40 |     0.39 |     0.43 |       1 / 40      |
[INFO] |  ╚ stdinit                                               |     0.31 |     0.30 |     0.33 |       1 / 40      |
[INFO] | corewrite                                                |     1.64 |     1.62 |     1.64 |       1 / 40      |
[INFO] | finished Run                                             |   146.35 |   146.34 |   146.36 |       1 / 40      |
[INFO] | Delete corenrn data                                      |     0.00 |     0.00 |     0.03 |       1 / 40      |
[INFO] +---------------------------------------------------------------------------------------------------------------+
